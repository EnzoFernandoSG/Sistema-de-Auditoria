/* src/app/components/abertura-auditoria/abertura-auditoria.scss */

/* Importar variáveis globais */
@use "sass:color";
@import '../../../styles.scss';

$primary: #007bff; // troque a cor, isso foi so pra teste
$secondary: #007bff; // troque a cor, isso foi so pra teste
$input: #007bff; // troque a cor, isso foi so pra teste

:root {
  --primary: #{$primary};
  --secondary: #{secondary};
//  --border: #d1d5db; // Exemplo
//  --radius: 4px; // Exemplo
  --input: #{$input}; // Exemplo
//  --foreground: #000000; // Exemplo
//  --primary-foreground: #ffffff; // Exemplo
}

.min-h-screen {
  min-height: 100vh;
}
.bg-dark-pattern {
  background-color: var(--background);
}
.text-white {
  color: var(--foreground);
}
.text-accent {
  color: var(--primary);
}
.font-bold {
  font-weight: bold;
}
.text-xs {
  font-size: 0.75rem;
}
.text-sm {
  font-size: 0.875rem;
}
.text-lg {
  font-size: 1.125rem;
}
.text-xl {
  font-size: 1.25rem;
}
.text-2xl {
  font-size: 1.5rem;
}
.max-w-7xl {
  max-width: 80rem;
}
.mx-auto {
  margin-left: auto;
  margin-right: auto;
}
.py-6 {
  padding-top: 1.5rem;
  padding-bottom: 1.5rem;
}
.px-4 {
  padding-left: 1rem;
  padding-right: 1rem;
}
.sm\:px-6 { /* Exemplo de breakpoint, ajustar se precisar */
  @media (min-width: 640px) {
    padding-left: 1.5rem;
    padding-right: 1.5rem;
  }
}
.lg\:px-8 { /* Exemplo de breakpoint, ajustar se precisar */
  @media (min-width: 1024px) {
    padding-left: 2rem;
    padding-right: 2rem;
  }
}

/* Flexbox & Grid Utilities */
.flex { display: flex; }
.items-center { align-items: center; }
.justify-center { justify-content: center; }
.justify-between { justify-content: space-between; }
.flex-wrap { flex-wrap: wrap; }
.flex-grow { flex-grow: 1; }
.ml-auto { margin-left: auto; }
.mr-2 { margin-right: 0.5rem; }

.gap-1 { gap: 0.25rem; }
.gap-2 { gap: 0.5rem; }
.gap-3 { gap: 0.75rem; }
.gap-4 { gap: 1rem; }

.space-x-2 > *:not(:first-child) { margin-left: 0.5rem; }
.space-y-2 > *:not(:first-child) { margin-top: 0.5rem; }
.space-y-4 > *:not(:first-child) { margin-top: 1rem; }
.space-y-6 > *:not(:first-child) { margin-top: 1.5rem; }
.mt-1 { margin-top: 0.25rem; }
.mt-2 { margin-top: 0.5rem; }
.mt-4 { margin-top: 1rem; }
.mb-2 { margin-bottom: 0.5rem; }
.mb-4 { margin-bottom: 1rem; }
.pb-2 { padding-bottom: 0.5rem; }
.pt-2 { padding-top: 0.5rem; }
.pt-4 { padding-top: 1rem; }
.py-4 { padding-top: 1rem; padding-bottom: 1rem; }
.py-8 { padding-top: 2rem; padding-bottom: 2rem; }

/* Animation */
.animate-spin {
  animation: spin 1s linear infinite;
}
@keyframes spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

/* General Elements */
.header {
  background-color: var(--card);
  box-shadow: 0 2px 4px rgba(0,0,0,0.2);
  border-bottom: 1px solid var(--border);
}

.button-ghost {
  background-color: transparent;
  color: var(--foreground);
  padding: 0.375rem 0.75rem;
  border-radius: var(--radius);
  transition: color 0.2s ease, background-color 0.2s ease;

  &:hover {
    color: var(--primary);
    background-color: var(--accent);
  }
}

/* Card Styles */
.card {
  background-color: var(--card);
  border-radius: var(--radius);
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
  border: 1px solid var(--border);
  overflow: hidden; // Garante que o conteúdo respeite o border-radius

  &.card-glow {
    border-color: var(--primary);
    box-shadow: 0 0 15px rgba(102, 255, 0, 0.3); // Mais brilho
  }
}

.card-header {
  padding: 1.5rem;
  border-bottom: 1px solid var(--border);
}

.card-title {
  font-size: 1.25rem;
  font-weight: bold;
  color: var(--card-foreground);
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.card-description {
  font-size: 0.875rem;
  color: var(--muted-foreground);
}

.card-content {
  padding: 1.5rem;
  color: var(--card-foreground);
}

/* Alert Styles (redefinindo para usar variáveis globais) */
.alert-destructive {
  background-color: color-mix(in srgb, var(--destructive) 15%, transparent);
  border: 1px solid var(--destructive);
  color: var(--destructive);
  // ... outros estilos permanecem os mesmos
}

.alert-success {
  background-color: color-mix(in srgb, #22c55e 15%, transparent); // Usando green-500 fixo para esta cor
  border: 1px solid #22c55e;
  color: #22c55e;
  // ... outros estilos permanecem os mesmos
}

.alert-info {
  background-color: color-mix(in srgb, var(--primary) 10%, transparent); // Um pouco de primary para info
  border: 1px solid var(--primary);
  color: var(--primary);

  p {
    color: var(--foreground); // Texto claro
  }
  // ... outros estilos permanecem os mesmos
}

.alert-warning {
  background-color: color-mix(in srgb, #fbbf24 15%, transparent);
  border: 1px solid #fbbf24;
  color: #fbbf24;
  // ... outros estilos permanecem os mesmos
}


/* Input, Select, Textarea */
.input-field, .select-input, .textarea-field {
  background-color: var(--input);
  border: 1px solid var(--border);
  color: var(--foreground);
  padding: 0.625rem 0.875rem;
  border-radius: var(--radius);
  width: 100%;
  font-size: 1rem;
  transition: border-color 0.2s ease, box-shadow 0.2s ease;

  &::placeholder {
    color: var(--muted-foreground);
  }

  &:focus {
    outline: none;
    border-color: var(--ring);
    box-shadow: 0 0 0 1px var(--ring);
  }

  &:disabled {
    background-color: var(--muted);
    cursor: not-allowed;
    opacity: 0.7;
  }
}

.select-input {
  appearance: none; // Remove o estilo padrão do select
  background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20' fill='none' stroke='%23a0aec0' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");
  background-repeat: no-repeat;
  background-position: right 0.75rem center;
  background-size: 1em;
  padding-right: 2.5rem;
}

.textarea-field {
  min-height: 80px;
  resize: vertical;
}

.file-input {
  display: block;
  width: 100%;
  padding: 0.625rem 0;
  border: 1px solid var(--border);
  border-radius: var(--radius);
  background-color: var(--input);
  color: var(--foreground);
  font-size: 1rem;
  cursor: pointer;

  &::file-selector-button {
    background-color: var(--primary);
    color: var(--primary-foreground);
    border: none;
    padding: 0.625rem 1.25rem;
    border-radius: var(--radius);
    margin-right: 1rem;
    cursor: pointer;
    transition: background-color 0.2s ease;
    font-weight: 600;

    &:hover {
      background-color: darken($primary, 10%);
    }
  }
}

/* Labels */
.label {
  display: block;
  font-size: 0.875rem;
  font-weight: 500;
  color: var(--foreground);
  margin-bottom: 0.5rem;
}

/* Badges */
.badge-success {
  background-color: #16a34a; // green-600
  color: var(--foreground);
  padding: 0.25rem 0.75rem;
  border-radius: 9999px; // full-rounded
  font-size: 0.75rem;
  font-weight: 500;
  display: inline-flex;
  align-items: center;
  gap: 0.25rem;
}

.badge-destructive {
  background-color: var(--destructive);
  color: var(--foreground);
  padding: 0.25rem 0.75rem;
  border-radius: 9999px;
  font-size: 0.75rem;
  font-weight: 500;
  display: inline-flex;
  align-items: center;
  gap: 0.25rem;
}

.badge-outline {
  background-color: transparent;
  border: 1px solid var(--primary);
  color: var(--primary);
  padding: 0.25rem 0.75rem;
  border-radius: 9999px;
  font-size: 0.75rem;
  font-weight: 500;
  display: inline-flex;
  align-items: center;
  gap: 0.25rem;
}

.badge-success-small, .badge-destructive-small {
  padding: 0.125rem 0.5rem;
  border-radius: 9999px;
  font-size: 0.65rem;
  font-weight: 500;
  display: inline-flex;
  align-items: center;
  gap: 0.25rem;
}
.badge-success-small {
  background-color: #16a34a;
  color: var(--foreground);
}
.badge-destructive-small {
  background-color: var(--destructive);
  color: var(--foreground);
}


/* Separator */
.separator {
  height: 1px;
  background-color: var(--primary);
  opacity: 0.7;
  margin: 2rem 0;
}
.separator-light {
  height: 1px;
  background-color: var(--border);
  margin: 1.5rem 0;
}

/* Info Box */
.info-box {
  padding: 1rem;
  background-color: var(--secondary);
  border-radius: var(--radius);
  border: 1px solid var(--border);
  color: var(--secondary-foreground);

  &.border-accent {
    border-color: var(--primary);
  }
  &.bg-accent-dark {
    background-color: var(--secondary);
  }
}

/* Toggle Group */
.toggle-group {
  display: flex;
  width: 100%;
  border-radius: var(--radius);
  overflow: hidden;
  border: 1px solid var(--border); // Borda mais neutra

  button {
    flex: 1;
    padding: 0.75rem 1rem; // Mais padding
    background-color: var(--input);
    color: var(--foreground);
    border: none;
    cursor: pointer;
    transition: background-color 0.2s ease, color 0.2s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    font-weight: 500;

    &:first-child {
      border-right: 1px solid var(--border); // Separador entre botões
    }

    &:hover:not(.active) {
      background-color: color.adjust($input-color-sass, $lightness: 5%);
    }

    &.active {
      background-color: var(--primary);
      color: var(--primary-foreground);
    }

    &:disabled {
      opacity: 0.6;
      cursor: not-allowed;
    }
  }

  &.disabled {
    opacity: 0.7;
    pointer-events: none;
  }
}

/* Checkbox/Switch placeholder */
.switch-checkbox {
  appearance: none;
  width: 38px;
  height: 22px;
  border-radius: 11px;
  background-color: var(--muted);
  position: relative;
  cursor: pointer;
  transition: background-color 0.2s ease;

  &::before {
    content: '';
    position: absolute;
    width: 18px;
    height: 18px;
    border-radius: 50%;
    background-color: var(--foreground);
    top: 2px;
    left: 2px;
    transition: transform 0.2s ease;
  }

  &:checked {
    background-color: var(--primary);
    &::before {
      transform: translateX(16px);
    }
  }
}


/* Display Field */
.display-field {
  padding: 0.75rem;
  background-color: var(--input);
  border-radius: var(--radius);
  border: 1px solid var(--border);
  color: var(--muted-foreground);
}

/* Product Card (inside accordion) */
.product-card {
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: 1rem;
  background-color: var(--secondary);
  transition: border-color 0.2s ease;

  &:hover {
    border-color: var(--primary);
  }
}

/* Image Previews */
.image-preview-container {
  position: relative;
  border-radius: var(--radius);
  overflow: hidden;
  border: 1px solid var(--border); // Mais neutro
  background-color: var(--card); // Fundo para imagens transparentes

  .image-preview {
    width: 100%;
    height: 9rem; // Ajuste o tamanho
    object-fit: cover;
  }

  .image-index-badge, .image-name-badge {
    position: absolute;
    background-color: rgba(0, 0, 0, 0.6); // Escuro transparente
    color: white;
    font-size: 0.7rem;
    padding: 0.15rem 0.35rem;
    border-radius: 0.2rem;
  }
  .image-index-badge {
    bottom: 0.4rem;
    left: 0.4rem;
  }
  .image-name-badge {
    bottom: 0.4rem;
    right: 0.4rem;
    max-width: calc(100% - 3rem); // Espaço para o badge de índice
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
  }
}

/* Accordion Placeholder */
.accordion-container {
  details.accordion-item { // Use details para o acordeão
    border: 1px solid var(--border); // Adiciona uma borda ao item
    border-radius: var(--radius);
    margin-bottom: 0.75rem;
    background-color: var(--input); // Fundo mais escuro para o acordeão
    overflow: hidden;

    summary.accordion-trigger {
      display: flex;
      align-items: center;
      justify-content: space-between;
      width: 100%;
      padding: 0.75rem 1rem; // Mais padding
      cursor: pointer;
      color: var(--primary);
      font-weight: bold;
      transition: color 0.2s ease;
      background-color: var(--secondary); // Fundo para o cabeçalho do acordeão

      &:hover {
        color: lighten($primary, 10%);
        background-color: ($secondary, 5%);
      }

      &::marker {
        display: none;
      }
    }

    .accordion-content {
      padding: 1rem; // Padding interno
      padding-top: 0.5rem; // Menos padding no topo
      border-top: 1px solid var(--border); // Separador
      background-color: var(--card); // Fundo do conteúdo do acordeão
    }
  }
}

/* Icon Styles - AGORA USANDO NG-ICONS */
ng-icon {
  // Estilo base para todos os ícones
  display: inline-block;
  vertical-align: middle;
  width: 1.25em; // Tamanho padrão
  height: 1.25em;
  stroke-width: 2.25; // Define a espessura da linha dos ícones (Lucide)
  color: var(--foreground); // Cor padrão para ícones
}

// Estilos específicos para ícones em diferentes contextos
.header .button-ghost ng-icon {
  width: 1em; height: 1em;
  color: var(--foreground);
}
/* Button Styles */
.button-primary {
  background-color: var(--primary);
  color: var(--primary-foreground);
  padding: 0.625rem 1.25rem;
  border-radius: var(--radius);
  border: none;
  cursor: pointer;
  transition: background-color 0.2s ease;
  display: flex;
  align-items: center;
  justify-content: center;

  &:hover {
    background-color: color.adjust($primary-color-sass, $lightness: -10%);
  }

  .active-link & { // Cor do ícone quando o link está ativo
    color: color.adjust($primary-color-sass, $lightness: 10%);
  }

  &:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
}

.header .badge-success ng-icon { color: var(--foreground); }
.header .badge-error ng-icon { color: var(--foreground); }
.alert-destructive ng-icon, .alert-warning ng-icon { color: inherit; } // Herda a cor do alerta
.alert-success ng-icon { color: inherit; }
.alert-info ng-icon { color: var(--primary); }
.card-title ng-icon { color: var(--primary); }
.label ng-icon { color: var(--primary); }
.button-primary ng-icon, .button-warning ng-icon, .button-destructive-icon ng-icon { color: var(--primary-foreground); }
.badge-outline ng-icon { color: var(--primary); }
.badge-success-small ng-icon, .badge-destructive-small ng-icon { color: var(--foreground); }
.accordion-trigger ng-icon { color: var(--primary); }